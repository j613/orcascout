<app-header [title]="title"></app-header>

<div class="col-sm-10 offset-sm-1">
    <form #pitForm="ngForm" (ngSubmit)="submitPit(); pitForm.reset();">
        
        <div class="row">
            <div class="form-group col-sm-6">
                <label for="team-name" class="col-form-label">Team Name</label>
                <input type="text" id="team-name" class="form-control" required [(ngModel)]="team.name" name="name">
            </div>
            <div class="form-group col-sm-6">
                <label for="team-number" class="col-form-label">Team Number</label>
                <input type="text" id="team-number" class="form-control" required [(ngModel)]="team.number" pattern="[0-9]+" name="number" #teamnum="ngModel">
                <div *ngIf="teamnum.touched && teamnum.invalid" class="alert alert-danger col-sm-12">Team number needs to be a number</div>
            </div>
        </div>
        <div class="form-group">
            <label for="team-photo" class="col-form-label">Team Photo</label>
            <input type="file" id="team-photo" required (change)="updatePhotos($event)" name="photo"><br>
        </div>
        <div *ngIf="team.photo" class="col-sm-12">
            <img [src]="team.photo" />
        </div>
        <div class="form-group">
            <label for="comments" class="col-form-label">Comments</label>
            <textarea id="comments" class="form-control" [(ngModel)]="team.comments" name="comments"></textarea>
        </div>
        <div class="form-group">
            <label for="drivetrain" class="col-form-label">Drivetrain</label>
            <select id="drivetrain" class="custom-select" required [(ngModel)]="team.drivetrain" name="drivetrain">
                <option *ngFor="let train of drivetrains" value="{{ train }}">{{ train }}</option>
            </select>
        </div>
        <div class="col-sm-12 text-center">
            <button type="submit" class="btn btn-primary" [disabled]="!pitForm.valid">Submit</button>
        </div>
    </form>
</div>